<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ú•Û†Ù…Û† Ù‡Û†Ø³ - Ú©Ø§ÚµØ§Ú©Ø§Ù† Ø¨Û•Ù¾ÛÛŒ Ø¬Û†Ø±</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; direction: rtl; font-size: 14px; }
        .app-container { max-width: 100%; margin: 0 auto; background: white; min-height: 100vh; position: relative; }
        
        /* Header */
        .header { background: white; padding: 12px 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e0e0e0; position: sticky; top: 0; z-index: 100; }
        .header h1 { font-size: 14px; color: #333; font-weight: 600; }
        .admin-button { background: #4fc3f7; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 12px; transition: all 0.3s; }
        .admin-button:hover { background: #29b6f6; transform: translateY(-2px); }
        
        /* Bottom Navigation */
        .bottom-nav { 
            position: fixed; 
            bottom: 0; 
            left: 0; 
            right: 0; 
            background: white; 
            display: flex; 
            justify-content: space-around; 
            padding: 10px 0; 
            border-top: 1px solid #e0e0e0; 
            z-index: 1000;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        .nav-item { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            cursor: pointer; 
            transition: all 0.3s;
            flex: 1;
            padding: 5px 0;
        }
        .nav-item.active { 
            color: #4fc3f7;
        }
        .nav-item:hover { 
            color: #29b6f6;
            transform: translateY(-2px);
        }
        .nav-icon { 
            font-size: 18px; 
            margin-bottom: 4px;
        }
        .nav-label { 
            font-size: 11px; 
            font-weight: 500;
        }
        
        /* Banner */
        .banner { background: linear-gradient(135deg, #4fc3f7 0%, #29b6f6 100%); padding: 25px 15px; text-align: center; color: white; position: relative; cursor: pointer; }
        .logo { width: 70px; height: 70px; background: rgba(255,255,255,0.3); border-radius: 50%; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); overflow: hidden; }
        .logo img { width: 100%; height: 100%; object-fit: cover; }
        .banner h2 { font-size: 20px; margin-bottom: 5px; font-weight: 700; }
        .banner p { font-size: 12px; opacity: 0.95; }

        /* Category Navigation */
        .category-nav { display: flex; overflow-x: auto; padding: 12px 15px; background: white; border-bottom: 1px solid #f0f0f0; gap: 8px; scrollbar-width: none; position: sticky; top: 59px; z-index: 99; }
        .category-nav::-webkit-scrollbar { display: none; }
        .category-item { flex: 0 0 auto; text-align: center; padding: 8px 16px; background: #f8f9fa; border-radius: 20px; cursor: pointer; transition: all 0.3s; border: 1px solid transparent; white-space: nowrap; font-size: 13px; font-weight: 500; }
        .category-item.active { background: #4fc3f7; color: white; border-color: #29b6f6; box-shadow: 0 2px 8px rgba(79, 195, 247, 0.3); }
        .category-item:hover { background: #e9ecef; transform: translateY(-2px); }
        .category-item.active:hover { background: #29b6f6; }

        /* Products Grid */
        .products-section { padding: 15px; padding-bottom: 70px; }
        .products-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 15px; }
        .product-item { background: white; border-radius: 12px; padding: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; border: 1px solid #f0f0f0; position: relative; }
        .product-item.new-product { border: 2px solid #ff9800; box-shadow: 0 2px 10px rgba(255, 152, 0, 0.2); }
        .new-badge { position: absolute; top: -5px; left: -5px; background: #ff9800; color: white; font-size: 10px; padding: 2px 6px; border-radius: 8px; z-index: 2; }
        .product-item:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .product-image { width: 100%; height: 90px; border-radius: 8px; overflow: hidden; margin-bottom: 8px; background: #f8f9fa; display: flex; align-items: center; justify-content: center; position: relative; }
        .product-image img { width: 100%; height: 100%; object-fit: cover; }
        .product-image .placeholder-icon { font-size: 28px; color: #ccc; }
        .product-info { text-align: center; }
        .product-name { font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px; }
        .product-price { font-size: 14px; font-weight: 700; color: #4fc3f7; }
        .product-price-usd { font-size: 11px; color: #888; margin-top: 2px; }
        .product-code { font-size: 10px; color: #888; margin-top: 2px; }
        .product-date { font-size: 9px; color: #aaa; margin-top: 2px; }

        /* Price Eye Icon */
        .price-eye { position: absolute; top: 8px; right: 8px; background: rgba(255,255,255,0.9); width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; z-index: 3; }
        .price-eye:hover { background: #4fc3f7; color: white; transform: scale(1.1); }
        .price-eye i { font-size: 12px; }

        /* Image Slider Styles - Fixed for RTL */
        .image-slider { 
            position: relative; 
            width: 100%; 
            height: 100%; 
            overflow: hidden; 
            border-radius: 8px;
            direction: ltr; /* Ú†Ø§Ø±Û•Ø³Û•Ø±ÛŒ Ú©ÛØ´Û•ÛŒ RTL */
        }
        .slider-container { 
            display: flex; 
            transition: transform 0.4s ease-in-out; 
            height: 100%; 
            width: 100%;
        }
        .slider-image { 
            flex: 0 0 100%; 
            height: 100%; 
            object-fit: cover; 
            display: block;
        }
        .slider-nav { 
            position: absolute; 
            bottom: 8px; 
            left: 0; 
            right: 0; 
            display: flex; 
            justify-content: center; 
            gap: 6px; 
            z-index: 2;
        }
        .slider-dot { 
            width: 8px; 
            height: 8px; 
            border-radius: 50%; 
            background: rgba(255,255,255,0.6); 
            cursor: pointer; 
            transition: all 0.3s; 
            border: 1px solid rgba(0,0,0,0.2);
        }
        .slider-dot.active { 
            background: white; 
            transform: scale(1.3); 
            box-shadow: 0 0 4px rgba(0,0,0,0.5);
        }
        .slider-dot:hover {
            background: rgba(255,255,255,0.9);
        }
        .slider-arrow { 
            position: absolute; 
            top: 50%; 
            transform: translateY(-50%); 
            background: rgba(0,0,0,0.5); 
            color: white; 
            border: none; 
            width: 28px; 
            height: 28px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer; 
            transition: all 0.3s; 
            opacity: 0.7; 
            z-index: 2;
        }
        .product-image:hover .slider-arrow { 
            opacity: 1; 
        }
        .slider-arrow:hover { 
            background: rgba(0,0,0,0.8); 
            transform: translateY(-50%) scale(1.1);
        }
        .slider-arrow.prev { 
            left: 6px; 
        }
        .slider-arrow.next { 
            right: 6px; 
        }
        .slider-arrow i { 
            font-size: 14px; 
        }

        /* Admin Panel */
        .admin-panel { background: #f8f9fa; padding: 15px; margin: 15px; border-radius: 10px; border: 1px solid #e9ecef; display: none; }
        .admin-panel.show { display: block; animation: slideDown 0.3s ease-out; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        .admin-title { font-size: 16px; color: #333; margin-bottom: 12px; text-align: center; }
        .admin-form { display: flex; flex-direction: column; gap: 8px; }
        .admin-input { padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; }
        .admin-select { padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; background: white; }
        .admin-file-input { padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; background: white; }
        .form-button { background: #4fc3f7; color: white; border: none; padding: 10px; border-radius: 6px; cursor: pointer; font-size: 13px; transition: all 0.3s; }
        .form-button:hover { background: #29b6f6; }
        .form-button.delete { background: #f44336; }
        .form-button.delete:hover { background: #d32f2f; }
        .image-preview { width: 80px; height: 80px; border-radius: 8px; overflow: hidden; margin: 8px auto; background: #f8f9fa; display: flex; align-items: center; justify-content: center; }
        .image-preview img { width: 100%; height: 100%; object-fit: cover; }
        .image-preview .placeholder-text { color: #888; font-size: 10px; text-align: center; }

        /* Multiple Image Upload */
        .multiple-images-preview { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 8px; 
            margin: 8px 0; 
            justify-content: center; 
        }
        .multiple-image-item { 
            width: 60px; 
            height: 60px; 
            border-radius: 6px; 
            overflow: hidden; 
            position: relative; 
            border: 1px solid #ddd; 
        }
        .multiple-image-item img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        }
        .remove-image { 
            position: absolute; 
            top: 2px; 
            right: 2px; 
            background: rgba(244,67,54,0.8); 
            color: white; 
            border: none; 
            width: 16px; 
            height: 16px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer; 
            font-size: 10px; 
        }

        /* Password Modal */
        .password-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }
        .password-modal.show {
            display: flex;
        }
        .password-modal-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            width: 300px;
            max-width: 90%;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .password-input {
            width: 100%;
            padding: 10px;
            margin: 15px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        .password-submit {
            background: #4fc3f7;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            width: 100%;
        }
        .password-submit:hover {
            background: #29b6f6;
        }

        /* Loading Spinner */
        .loading { display: inline-block; width: 20px; height: 20px; border: 3px solid #f3f3f3; border-top: 3px solid #4fc3f7; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Notification styles */
        .notification { position: fixed; top: 80px; right: 15px; left: 15px; background: #4caf50; color: white; padding: 15px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 10000; font-size: 13px; text-align: center; animation: slideIn 0.3s ease-out; }
        .notification.error { background: #f44336; }
        @keyframes slideIn { from { transform: translateY(-100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes slideOut { from { transform: translateY(0); opacity: 1; } to { transform: translateY(-100%); opacity: 0; } }
        
        /* Page Sections */
        .page-section {
            display: none;
            padding: 15px;
            padding-bottom: 70px;
            min-height: calc(100vh - 140px);
        }
        .page-section.active {
            display: block;
        }
        
        /* Payment Section */
        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }
        .payment-method {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .payment-method:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .payment-icon {
            width: 40px;
            height: 40px;
            background: #4fc3f7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }
        .payment-info h3 {
            font-size: 16px;
            margin-bottom: 5px;
            color: #333;
        }
        .payment-info p {
            font-size: 12px;
            color: #666;
        }
        
        /* Location Section */
        .location-info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        .location-info h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }
        .location-details {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .location-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        .location-item:last-child {
            border-bottom: none;
        }
        .location-icon {
            width: 30px;
            height: 30px;
            background: #4fc3f7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
        }
        .location-text {
            flex: 1;
        }
        .location-text strong {
            display: block;
            margin-bottom: 2px;
            color: #333;
        }
        .location-text span {
            font-size: 12px;
            color: #666;
        }
        
        /* About Section */
        .about-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        .about-content h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }
        .about-text {
            line-height: 1.6;
            color: #555;
            font-size: 14px;
            text-align: justify;
        }
        .about-features {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .feature-icon {
            color: #4fc3f7;
            font-size: 16px;
        }
        
        /* Marketplace Section */
        .marketplace-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
        }
        .stat-icon {
            width: 40px;
            height: 40px;
            background: #4fc3f7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            margin: 0 auto 10px;
        }
        .stat-number {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <h1>PAYWAST MAJEED...</h1>
            <button class="admin-button" id="adminAccessBtn">
                <i class="fas fa-plus"></i> +
            </button>
        </div>

        <div class="content-wrapper">
            <!-- Home Section (Products) -->
            <div class="page-section active" id="home-section">
                <!-- Banner -->
                <div class="banner">
                    <div class="logo">
                        <img src="https://raw.githubusercontent.com/paywastwork-droid/PromoHouse/main/logo/photo_2025-11-26_10-42-27.jpg" alt="Promo House Logo">
                    </div>
                    <h2>PROMO HOUSE</h2>
                    <p>For Promotional Products</p>
                </div>

                <!-- Category Navigation -->
                <div class="category-nav" id="categoryNav">
                    <div class="category-item active" data-category="all">Ù‡Û•Ù…ÙˆÙˆ Ú©Ø§ÚµØ§Ú©Ø§Ù†</div>
                    <div class="category-item" data-category="clothing">Ø¬Ù„</div>
                    <div class="category-item" data-category="hat">Ú©ÚµØ§Ùˆ</div>
                    <div class="category-item" data-category="mug">Ú©ÙˆÙˆÙ¾</div>
                    <div class="category-item" data-category="watermelon">ØªÛ•Ø±Ù…Û†Ø²Û•</div>
                    <div class="category-item" data-category="notebook">Ø¯Û•ÙØªÛ•Ø±</div>
                    <div class="category-item" data-category="pen">Ù‚Û•Ù„Û•Ù…</div>
                    <div class="category-item" data-category="bag">Ø¬Ø§Ù†ØªØ§</div>
                    <div class="category-item" data-category="crystal">Ú©Ø±ÛŒØ³ØªØ§Ù„</div>
                    <div class="category-item" data-category="shield">Ø¯Ø±Ø¹</div>
                    <div class="category-item" data-category="krikar">Ú©Ø±ÛŒÚ©Ø§Ø±</div>
                    <div class="category-item" data-category="other">Ø´ØªÛŒ ØªØ±</div>
                </div>

                <!-- Products Grid -->
                <div class="products-section">
                    <div class="products-grid" id="productsContainer">
                        <div style="text-align: center; grid-column: 1 / -1; padding: 20px;">
                            <div class="loading"></div>
                            <div>Ú©Ø§ÚµØ§Ú©Ø§Ù† Ø¨Ø§Ø± Ø¯Û•Ú©Ø±ÛÙ†...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pay Section -->
            <div class="page-section" id="pay-section">
                <h2 style="text-align: center; margin-bottom: 20px; color: #333;">Ø´ÛÙˆØ§Ø²Û•Ú©Ø§Ù†ÛŒ Ù¾Ø§Ø±Û•Ø¯Ø§Ù†</h2>
                <div class="payment-methods">
                    <div class="payment-method">
                        <div class="payment-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="payment-info">
                            <h3>Ù¾Ø§Ø±Û•ÛŒ Ú©Ø§Ø´</h3>
                            <p>Ù¾Ø§Ø±Û•Ø¯Ø§Ù† Ú©Ø§ØªÛÚ© Ú©Ø§ÚµØ§ Ø¯Û•Ú¯Ø§Øª Ø¨Û• Ø¯Û•Ø³ØªØª</p>
                        </div>
                    </div>
                    <div class="payment-method">
                        <div class="payment-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="payment-info">
                            <h3>Ø²ÛŒØ±Û•Ú©</h3>
                            <p>Ù¾Ø§Ø±Û•Ø¯Ø§Ù† Ù„Û• Ú•ÛÚ¯Û•ÛŒ Ø²ÛŒØ±Û•Ú©Û•ÙˆÛ•</p>
                        </div>
                    </div>
                    <div class="payment-method">
                        <div class="payment-icon">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <div class="payment-info">
                            <h3>Ú©Ø§Ø±ØªÛŒ Ø¨Ø§Ù†Ú©ÛŒ</h3>
                            <p>Ù¾Ø§Ø±Û•Ø¯Ø§Ù† Ø¨Û• Ú©Ø§Ø±ØªÛŒ Ø¨Ø§Ù†Ú©ÛŒ</p>
                        </div>
                    </div>
                    <div class="payment-method">
                        <div class="payment-icon">
                            <i class="fas fa-university"></i>
                        </div>
                        <div class="payment-info">
                            <h3>ÙˆÛ•Ø±Ú¯Ø±ØªÙ†ÛŒ Ø¨Ø§Ù†Ú©ÛŒ</h3>
                            <p>Ù¾Ø§Ø±Û•Ø¯Ø§Ù† Ù„Û• Ø¨Ø§Ù†Ú©Û•ÙˆÛ•</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Location Section -->
            <div class="page-section" id="location-section">
                <h2 style="text-align: center; margin-bottom: 20px; color: #333;">Ø´ÙˆÛÙ†ÛŒ Ø¦ÛÙ…Û•</h2>
                <div class="location-info">
                    <h3>PromoHouse</h3>
                    <div class="location-details">
                        <div class="location-item">
                            <div class="location-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="location-text">
                                <strong>Ù†Ø§ÙˆÙ†ÛŒØ´Ø§Ù†</strong>
                                <span>Ø³Ù„ÛÙ…Ø§Ù†ÛŒØŒ Ú©ÙˆØ±Ø¯Ø³ØªØ§Ù†</span>
                            </div>
                        </div>
                        <div class="location-item">
                            <div class="location-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="location-text">
                                <strong>Ú˜Ù…Ø§Ø±Û•ÛŒ ØªÛ•Ù„Û•ÙÛ†Ù†</strong>
                                <span>07701922060</span>
                            </div>
                        </div>
                        <div class="location-item">
                            <div class="location-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="location-text">
                                <strong>Ø¦ÛŒÙ…Û•ÛŒÙ„</strong>
                                <span>paywastwork@gmail.com</span>
                            </div>
                        </div>
                        <div class="location-item">
                            <div class="location-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="location-text">
                                <strong>Ú©Ø§ØªÛ•Ú©Ø§Ù†ÛŒ Ú©Ø§Ø±</strong>
                                <span>Ù©:Ù Ù  AM - Ù¥:Ù Ù  PM (Ù‡Û•Ù…ÙˆÙˆ Ú•Û†Ú˜ÛÚ©)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- About Section -->
            <div class="page-section" id="about-section">
                <h2 style="text-align: center; margin-bottom: 20px; color: #333;">Ø¯Û•Ø±Ø¨Ø§Ø±Û•ÛŒ Ø¦ÛÙ…Û•</h2>
                <div class="about-content">
                    <h3>PromoHouse</h3>
                    <div class="about-text">
                        <p>Ø¨Û•Ø®ÛØ±Ø¨ÛÙ† Ø¨Û† PromoHouse! .</p>
                        
                        <p>Ø¦Ø§Ù…Ø§Ù†Ø¬ÛŒ Ø¦ÛÙ…Û• Ø¯Ø§Ø¨ÛŒÙ†Ú©Ø±Ø¯Ù†ÛŒ Ø¨Ø§Ø´ØªØ±ÛŒÙ† Ú©ÙˆØ§Ù„ÛØªÛŒ Ø¨Û•Ø±Ø² Ùˆ Ú©Ø§ÚµØ§ Ø¨Û• Ù†Ø±Ø®ÛÚ©ÛŒ Ú¯ÙˆÙ†Ø¬Ø§ÙˆÙˆ. .</p>
                    </div>
                    
                    <div class="about-features">
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <span>Ú©Ø§ÚµØ§  Ø¨Û• Ú©ÙˆØ§Ù„ÛØªÛŒ Ø¨Û•Ø±Ø²</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <span>Ù†Ø±Ø®Û• Ù¾ÛØ´Ú©Û•ÙˆØªÙˆÙˆÛ•Ú©Ø§Ù†</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <span>Ú¯ÙˆØ§Ø³ØªÙ†Û•ÙˆÛ•ÛŒ Ø®ÛØ±Ø§</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <span>Ø®Ø²Ù…Û•ØªÚ¯ÙˆØ²Ø§Ø±ÛŒ Ú©Ú•ÛŒØ§Ø±ÛŒ Ø¨Ø§Ø´</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Marketplace Section -->
            <div class="page-section" id="marketplace-section">
                <h2 style="text-align: center; margin-bottom: 20px; color: #333;">Ø¨Ø§Ø²Ø§Ú•ÛŒ Ú©Ø§ÚµØ§Ú©Ø§Ù†</h2>
                <div class="marketplace-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-box-open"></i>
                        </div>
                        <div class="stat-number">Ù¡Ù¢Ù¥+</div>
                        <div class="stat-label">Ø¬Û†Ø±ÛŒ Ú©Ø§ÚµØ§</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-number">Ù¥Ù Ù +</div>
                        <div class="stat-label">Ú©Ú•ÛŒØ§Ø±ÛŒ Ø¯ÚµØ®Û†Ø´</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <div class="stat-number">Ù¡Ù Ù Ù +</div>
                        <div class="stat-label">Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ ØªÛ•ÙˆØ§Ùˆ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-number">Ù¥+</div>
                        <div class="stat-label">Ø³Ø§Úµ Ø®Ø²Ù…Û•ØªÚ¯ÙˆØ²Ø§Ø±ÛŒ</div>
                    </div>
                </div>
                
                <div style="margin-top: 30px; text-align: center;">
                    <h3 style="margin-bottom: 15px; color: #333;">Ú©Ø§ÚµØ§ Ù¾Ú•Û†Ù…Û†Ø´Ù†Ø§ÚµÛ•Ú©Ø§Ù†Ù…Ø§Ù†</h3>
                    <p style="color: #666; line-height: 1.6;">Ø¦ÛÙ…Û• Ù‡Û•Ù…ÙˆÙˆ Ø¬Û†Ø±Û• Ú©Ø§ÚµØ§ Ù¾Ú•Û†Ù…Û†Ø´Ù†Ø§ÚµÛ•Ú©Ø§Ù† Ø¯Ø§Ø¨ÛŒÙ† Ø¯Û•Ú©Û•ÛŒÙ† Ù„Û• Ø¬Ù„ Ùˆ Ø¨Û•Ø±Ú¯ Ùˆ Ú©ÚµØ§Ùˆ Ùˆ Ú©ÙˆÙˆÙ¾ Ùˆ Ù‚Û•Ù„Û•Ù… Ùˆ Ø¯Û•ÙØªÛ•Ø± Ùˆ Ø²Û†Ø± Ø´ØªÛŒ ØªØ±. Ù‡Û•Ù…ÙˆÙˆ Ú©Ø§ÚµØ§Ú©Ø§Ù†Ù…Ø§Ù† Ø¯Û•ØªÙˆØ§Ù†Ø±ÛØª Ø¯ÛŒØ²Ø§ÛŒÙ†ÛŒ ØªØ§ÛŒØ¨Û•ØªÛŒØ§Ù† Ø¨Û† Ø¨Ú©Ø±ÛØª Ø¨Û• Ù†Ø§ÙˆÙ†ÛŒØ´Ø§Ù†ÛŒ Ú©Û†Ù…Ù¾Ø§Ù†ÛŒØ§Ú©Û•Øª ÛŒØ§Ù† Ù„Û†Ú¯Û†.</p>
                </div>
            </div>

            <!-- Password Modal -->
            <div class="password-modal" id="passwordModal">
                <div class="password-modal-content">
                    <h3>ØªÚ©Ø§ÛŒÛ• ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ Ø¯Ø§Ø®Ù„ Ø¨Ú©Û•</h3>
                    <input type="password" class="password-input" id="passwordInput" placeholder="ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ">
                    <button class="password-submit" id="passwordSubmit">Ú†ÙˆÙˆÙ†Û• Ú˜ÙˆØ±Û•ÙˆÛ•</button>
                </div>
            </div>

            <!-- Admin Panel -->
            <div class="admin-panel" id="adminPanel">
                <div class="admin-title">Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ú©Ø§ÚµØ§ÛŒ Ù†ÙˆÛ</div>
                <form class="admin-form" id="adminForm">
                    <input type="text" class="admin-input" id="productName" placeholder="Ù†Ø§ÙˆÛŒ Ú©Ø§ÚµØ§" required>
                    <input type="number" class="admin-input" id="productPrice" placeholder="Ù†Ø±Ø® (Ø¯ÛŒÙ†Ø§Ø±)" required>
                    <input type="text" class="admin-input" id="productCode" placeholder="Ú©Û†Ø¯ÛŒ Ú©Ø§ÚµØ§" required>
                    <select class="admin-select" id="productCategory" required>
                        <option value="">Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ Ø¬Û†Ø±</option>
                        <option value="clothing">Ø¬Ù„</option>
                        <option value="hat">Ú©ÚµØ§Ùˆ</option>
                        <option value="mug">Ú©ÙˆÙˆÙ¾</option>
                        <option value="watermelon">ØªÛ•Ø±Ù…Û†Ø²Û•</option>
                        <option value="notebook">Ø¯Û•ÙØªÛ•Ø±</option>
                        <option value="pen">Ù‚Û•Ù„Û•Ù…</option>
                        <option value="bag">Ø¬Ø§Ù†ØªØ§</option>
                        <option value="crystal">Ú©Ø±ÛŒØ³ØªØ§Ù„</option>
                        <option value="shield">Ø¯Ø±Ø¹</option>
                        <option value="krikar">Ú©Ø±ÛŒÚ©Ø§Ø±</option>
                        <option value="other">Ø´ØªÛŒ ØªØ±</option>
                    </select>
                    
                    <div class="multiple-images-preview" id="multipleImagesPreview">
                        <!-- Multiple images preview will be shown here -->
                    </div>
                    
                    <input type="file" class="admin-file-input" id="productImages" accept="image/*" multiple>
                    
                    <button type="submit" class="form-button" id="submitButton">
                        <span id="submitButtonText">Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ú©Ø§ÚµØ§</span>
                    </button>
                    <button type="button" class="form-button delete" id="closeAdminPanel">Ø¯Ø§Ø®Ø³ØªÙ†</button>
                </form>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" data-page="home-section">
                <div class="nav-icon">
                    <i class="fas fa-home"></i>
                </div>
                <div class="nav-label">Ù…Ø§ÚµÛ•ÙˆÛ•</div>
            </div>
            <div class="nav-item" data-page="pay-section">
                <div class="nav-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="nav-label">Ù¾Ø§Ø±Û•Ø¯Ø§Ù†</div>
            </div>
            <div class="nav-item" data-page="location-section">
                <div class="nav-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="nav-label">Ø´ÙˆÛÙ†</div>
            </div>
            <div class="nav-item" data-page="about-section">
                <div class="nav-icon">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="nav-label">Ø¯Û•Ø±Ø¨Ø§Ø±Û•</div>
            </div>
            <div class="nav-item" data-page="marketplace-section">
                <div class="nav-icon">
                    <i class="fas fa-store"></i>
                </div>
                <div class="nav-label">Ø¨Ø§Ø²Ø§Ú•</div>
            </div>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCl1EUC9r6lu9L0opp-gFst3Y7Hjk7jH-M",
            authDomain: "promohouse-b5298.firebaseapp.com",
            databaseURL: "https://promohouse-b5298-default-rtdb.firebaseio.com",
            projectId: "promohouse-b5298",
            storageBucket: "promohouse-b5298.firebasestorage.app",
            messagingSenderId: "55413367728",
            appId: "1:55413367728:web:c23d315d95482c0e0f2c75",
            measurementId: "G-XRZP1J2QMG"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const storage = firebase.storage();

        console.log('ğŸ”¥ Firebase initialized successfully');

        // Global variables
        let allProducts = [];
        const ADMIN_PASSWORD = "1100"; // ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ Ø¨Û•Ú•ÛŒÙˆÛ•Ø¨Û•Ø±

        // Function to create image slider for products with multiple images - FIXED VERSION
        function createImageSlider(images, productId) {
            const sliderId = `slider-${productId}`;
            const dots = images.map((_, index) => 
                `<div class="slider-dot ${index === 0 ? 'active' : ''}" data-index="${index}" onclick="handleDotClick(event, '${sliderId}')"></div>`
            ).join('');
            
            const imageElements = images.map((image, index) => 
                `<img src="${image}" alt="Product image ${index + 1}" class="slider-image" onerror="handleImageError(this, ${index}, '${sliderId}')">`
            ).join('');
            
            return `
                <div class="image-slider" id="${sliderId}" data-current-image="0">
                    <div class="slider-container">
                        ${imageElements}
                    </div>
                    <button class="slider-arrow prev" onclick="slideImage('${sliderId}', -1)">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="slider-arrow next" onclick="slideImage('${sliderId}', 1)">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="slider-nav">
                        ${dots}
                    </div>
                </div>
            `;
        }

        // Function to handle dot click (jump to specific image) - FIXED VERSION
        function handleDotClick(event, sliderId) {
            event.stopPropagation();
            const newIndex = parseInt(event.target.dataset.index);
            const slider = document.getElementById(sliderId);
            if (!slider) return;
            
            const container = slider.querySelector('.slider-container');
            const dots = slider.querySelectorAll('.slider-dot');

            // Ú†Ø§Ø±Û•Ø³Û•Ø±ÛŒ Ú©ÛØ´Û•ÛŒ RTL: Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ translateX Ø¨Û• Ù†ÛŒØ´Ø§Ù†Û•ÛŒ Ø¦Û•Ø±ÛÙ†ÛŒ
            const translateValue = -newIndex * 100;
            container.style.transform = `translateX(${translateValue}%)`;

            // Update dots
            dots.forEach(dot => dot.classList.remove('active'));
            event.target.classList.add('active');

            slider.setAttribute('data-current-image', newIndex);
        }

        // Function to handle image sliding - FIXED VERSION
        function slideImage(sliderId, direction) {
            event.stopPropagation();
            const slider = document.getElementById(sliderId);
            if (!slider) return;
            
            const container = slider.querySelector('.slider-container');
            const images = slider.querySelectorAll('.slider-image');
            const dots = slider.querySelectorAll('.slider-dot');
            
            if (images.length <= 1) return;
            
            const currentActiveDot = slider.querySelector('.slider-dot.active');
            let currentIndex = parseInt(currentActiveDot ? currentActiveDot.dataset.index : 0);
            
            let newIndex = currentIndex + direction;
            
            // Handle looping
            if (newIndex >= images.length) {
                newIndex = 0;
            } else if (newIndex < 0) {
                newIndex = images.length - 1;
            }

            // Ú†Ø§Ø±Û•Ø³Û•Ø±ÛŒ Ú©ÛØ´Û•ÛŒ RTL: Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ translateX Ø¨Û• Ù†ÛŒØ´Ø§Ù†Û•ÛŒ Ø¦Û•Ø±ÛÙ†ÛŒ
            const translateValue = -newIndex * 100;
            container.style.transform = `translateX(${translateValue}%)`;

            // Update dots
            dots.forEach(dot => dot.classList.remove('active'));
            if (dots[newIndex]) {
                dots[newIndex].classList.add('active');
            }

            slider.setAttribute('data-current-image', newIndex);
        }
        
        // Function to handle image loading error
        function handleImageError(imgElement, index, sliderId) {
            console.error('Image failed to load:', imgElement.src);
            imgElement.style.display = 'none';
        }

        // Function to create product item with image slider
        function createProductItem(product, productId) {
            const productItem = document.createElement('div');
            productItem.className = `product-item ${product.isNew ? 'new-product' : ''}`;
            productItem.setAttribute('data-category', product.category);
            productItem.setAttribute('data-id', productId);
            productItem.setAttribute('data-created-date', product.createdAt || '');

            const icon = getIcon(product.category);
            const usdPrice = (product.price / 1470).toFixed(2);
            
            const images = (product.images && Array.isArray(product.images)) ? product.images : (product.imageUrl ? [product.imageUrl] : []);
            
            let imageContent;
            
            if (images.length > 1) {
                imageContent = createImageSlider(images, productId);
            } else if (images.length === 1) {
                imageContent = `<img src="${images[0]}" alt="${product.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">`;
            } else {
                imageContent = `<div class="placeholder-icon"><i class="fas ${icon}"></i></div>`;
            }

            productItem.innerHTML = `
                ${product.isNew ? '<div class="new-badge">NEW</div>' : ''}
                <div class="price-eye" onclick="event.stopPropagation(); showUSDPrice(${product.price}, '${product.name}')">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="product-image">
                    ${imageContent}
                    ${images.length <= 1 ? `<div class="placeholder-icon" style="${images.length === 1 ? 'display:none;' : ''}"><i class="fas ${icon}"></i></div>` : ''}
                </div>
                <div class="product-info">
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">${product.price.toLocaleString()} Ø¯ÛŒÙ†Ø§Ø±</div>
                    <div class="product-price-usd">Ù†Ø²ÛŒÚ©Û•ÛŒ ${usdPrice}$</div>
                    <div class="product-code">${product.code}</div>
                    <div class="product-date">Ø²ÛŒØ§Ø¯Ú©Ø±Ø§ÙˆÛ•: ${formatDate(product.createdAt)}</div>
                </div>
            `;
            
            return productItem;
        }

        // Helper function to get icon based on category
        function getIcon(category) {
            switch (category) {
                case 'clothing': return 'fa-tshirt';
                case 'hat': return 'fa-hat-cowboy';
                case 'mug': return 'fa-mug-hot';
                case 'watermelon': return 'fa-flask';
                case 'notebook': return 'fa-book';
                case 'pen': return 'fa-pen';
                case 'bag': return 'fa-shopping-bag';
                case 'crystal': return 'fa-gem';
                case 'shield': return 'fa-shield-alt';
                case 'krikar': return 'fa-hand-holding';
                default: return 'fa-box-open';
            }
        }

        // Function to format date for display
        function formatDate(timestamp) {
            if (!timestamp) return 'Ø¨Û•Ø±ÙˆØ§Ø±ÛŒ Ù†Û•Ø²Ø§Ù†Ø±Ø§Ùˆ';
            
            const date = new Date(timestamp);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (date.toDateString() === now.toDateString()) {
                return 'Ø¦Û•Ù…Ø±Û†';
            }
            
            const yesterday = new Date(now);
            yesterday.setDate(yesterday.getDate() - 1);
            if (date.toDateString() === yesterday.toDateString()) {
                return 'Ø¯ÙˆÛÙ†Û';
            }
            
            if (diffDays <= 7) {
                return `${diffDays} Ú•Û†Ú˜ Ù„Û•Ù…Û•ÙˆÙ¾ÛØ´`;
            }
            
            return date.toLocaleDateString('ku-IQ', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // Function to show USD Price
        function showUSDPrice(priceIQD, productName) {
            const usdPrice = (priceIQD / 1470).toFixed(2);
            showNotification(`${productName}: ${priceIQD.toLocaleString()} Ø¯ÛŒÙ†Ø§Ø± = Ù†Ø²ÛŒÚ©Û•ÛŒ ${usdPrice}$`, 'success');
        }

        // Function to show notification
        function showNotification(message, type = 'success') {
            let notification = document.querySelector('.notification');
            if (!notification) {
                notification = document.createElement('div');
                notification.className = 'notification';
                document.body.appendChild(notification);
            }
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in forwards';
                setTimeout(() => {
                    notification.style.display = 'none';
                    notification.style.animation = 'slideIn 0.3s ease-out';
                }, 300);
            }, 3000);
        }

        // Function to handle category filtering
        function filterProducts(category) {
            const productsContainer = document.getElementById('productsContainer');
            const products = productsContainer.querySelectorAll('.product-item');
            
            products.forEach(product => {
                const productCategory = product.getAttribute('data-category');
                if (category === 'all' || productCategory === category) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
            
            // Update active category style
            const categoryItems = document.querySelectorAll('.category-item');
            categoryItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-category') === category) {
                    item.classList.add('active');
                }
            });
        }

        // Function to load products
        function loadProducts() {
            const productsContainer = document.getElementById('productsContainer');
            
            console.log('ğŸ”„ Starting to load products...');

            productsContainer.innerHTML = `
                <div style="text-align: center; grid-column: 1 / -1; padding: 20px;">
                    <div class="loading"></div>
                    <div>Ú©Ø§ÚµØ§Ú©Ø§Ù† Ø¨Ø§Ø± Ø¯Û•Ú©Ø±ÛÙ†...</div>
                </div>
            `;

            const productsRef = database.ref('products');
            
            productsRef.on('value', (snapshot) => {
                console.log('ğŸ“¦ Firebase data received:', snapshot.val());
                
                const productsData = snapshot.val();
                const productsContainer = document.getElementById('productsContainer');
                
                productsContainer.innerHTML = '';
                
                if (!productsData) {
                    console.log('â„¹ï¸ No products found in database');
                    productsContainer.innerHTML = `
                        <div style="text-align: center; grid-column: 1 / -1; padding: 20px; color: #666;">
                            <i class="fas fa-box-open" style="font-size: 40px; margin-bottom: 10px;"></i>
                            <div>Ù‡ÛŒÚ† Ú©Ø§ÚµØ§ÛŒÛ•Ú© Ø¨ÙˆÙˆÙ†ÛŒ Ù†ÛŒÛ•</div>
                        </div>
                    `;
                    return;
                }
                
                allProducts = Object.keys(productsData).map(productId => ({
                    id: productId,
                    ...productsData[productId]
                }));
                
                console.log('ğŸ¯ Products loaded:', allProducts.length);
                
                allProducts.forEach(product => {
                    const productItem = createProductItem(product, product.id);
                    productsContainer.appendChild(productItem);
                });

                const activeCategory = document.querySelector('.category-item.active');
                if (activeCategory) {
                    filterProducts(activeCategory.getAttribute('data-category'));
                }
                
            }, (error) => {
                console.error('âŒ Error loading products:', error);
                showNotification('Ù‡Û•ÚµÛ• Ù„Û• Ø¨Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ú©Ø§ÚµØ§Ú©Ø§Ù†', 'error');
                
                productsContainer.innerHTML = `
                    <div style="text-align: center; grid-column: 1 / -1; padding: 20px; color: #f44336;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 40px; margin-bottom: 10px;"></i>
                        <div>Ù‡Û•ÚµÛ• Ù„Û• Ø¨Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ú©Ø§ÚµØ§Ú©Ø§Ù†</div>
                        <div style="font-size: 12px; margin-top: 5px;">${error.message}</div>
                    </div>
                `;
            });
        }

        // Setup Event Listeners and Initial Load
        document.addEventListener('DOMContentLoaded', () => {
            loadProducts();
            
            // Category Nav Listeners
            const categoryItems = document.querySelectorAll('.category-item');
            categoryItems.forEach(item => {
                item.addEventListener('click', () => {
                    const category = item.getAttribute('data-category');
                    filterProducts(category);
                });
            });

            // Bottom Navigation Listeners
            const navItems = document.querySelectorAll('.nav-item');
            const pageSections = document.querySelectorAll('.page-section');
            
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const targetPage = item.getAttribute('data-page');
                    
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    item.classList.add('active');
                    
                    // Show target page
                    pageSections.forEach(section => {
                        section.classList.remove('active');
                        if (section.id === targetPage) {
                            section.classList.add('active');
                        }
                    });
                });
            });

            // Admin Panel Logic
            const adminAccessBtn = document.getElementById('adminAccessBtn');
            const adminPanel = document.getElementById('adminPanel');
            const closeAdminPanel = document.getElementById('closeAdminPanel');
            const adminForm = document.getElementById('adminForm');
            const productImagesInput = document.getElementById('productImages');
            const multipleImagesPreview = document.getElementById('multipleImagesPreview');
            const passwordModal = document.getElementById('passwordModal');
            const passwordInput = document.getElementById('passwordInput');
            const passwordSubmit = document.getElementById('passwordSubmit');
            let filesToUpload = [];

            // Toggle admin panel with password protection
            adminAccessBtn.addEventListener('click', () => {
                passwordModal.classList.add('show');
                passwordInput.focus();
            });

            // Handle password submission
            passwordSubmit.addEventListener('click', () => {
                const enteredPassword = passwordInput.value;
                if (enteredPassword === ADMIN_PASSWORD) {
                    passwordModal.classList.remove('show');
                    adminPanel.classList.add('show');
                    passwordInput.value = '';
                } else {
                    showNotification('ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ Ù‡Û•ÚµÛ•ÛŒÛ•', 'error');
                    passwordInput.value = '';
                    passwordInput.focus();
                }
            });

            // Also allow Enter key to submit password
            passwordInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    passwordSubmit.click();
                }
            });

            // Close password modal when clicking outside
            passwordModal.addEventListener('click', (e) => {
                if (e.target === passwordModal) {
                    passwordModal.classList.remove('show');
                    passwordInput.value = '';
                }
            });

            closeAdminPanel.addEventListener('click', () => {
                adminPanel.classList.remove('show');
                adminForm.reset();
                multipleImagesPreview.innerHTML = '';
                filesToUpload = [];
            });

            // Handle multiple image preview
            productImagesInput.addEventListener('change', (e) => {
                filesToUpload = Array.from(e.target.files);
                previewMultipleImages(filesToUpload);
            });

            function previewMultipleImages(files) {
                multipleImagesPreview.innerHTML = '';
                files.forEach((file, index) => {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const imageItem = document.createElement('div');
                        imageItem.className = 'multiple-image-item';
                        imageItem.innerHTML = `
                            <img src="${e.target.result}" alt="Preview ${index}">
                            <button type="button" class="remove-image" data-index="${index}"><i class="fas fa-times"></i></button>
                        `;
                        multipleImagesPreview.appendChild(imageItem);

                        imageItem.querySelector('.remove-image').addEventListener('click', (event) => {
                            const removeIndex = parseInt(event.currentTarget.dataset.index);
                            filesToUpload.splice(removeIndex, 1);
                            previewMultipleImages(filesToUpload);
                            if (filesToUpload.length === 0) {
                                productImagesInput.value = '';
                            }
                        });
                    };
                    reader.readAsDataURL(file);
                });
            }
            
            // Handle form submission
            adminForm.addEventListener('submit', async (e) => {
                e.preventDefault();

                const submitButton = document.getElementById('submitButton');
                submitButton.disabled = true;
                const originalText = submitButton.textContent;
                submitButton.innerHTML = `<span class="loading"></span> Ú†Ø§ÙˆÛ•Ú•ÛØ¨Û•...`;

                const name = document.getElementById('productName').value;
                const price = parseInt(document.getElementById('productPrice').value);
                const code = document.getElementById('productCode').value;
                const category = document.getElementById('productCategory').value;

                try {
                    let imageUrls = [];

                    // Upload new files
                    for (const file of filesToUpload) {
                        const storageRef = storage.ref(`product_images/${category}/${file.name}_${Date.now()}`);
                        const snapshot = await storageRef.put(file);
                        const downloadURL = await snapshot.ref.getDownloadURL();
                        imageUrls.push(downloadURL);
                    }

                    const productData = {
                        name,
                        price,
                        code,
                        category,
                        images: imageUrls,
                        isNew: true,
                        createdAt: Date.now()
                    };

                    // Add new product
                    await database.ref('products').push(productData);
                    showNotification('Ú©Ø§ÚµØ§ Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ Ø²ÛŒØ§Ø¯ Ú©Ø±Ø§', 'success');

                    adminForm.reset();
                    multipleImagesPreview.innerHTML = '';
                    filesToUpload = [];
                    adminPanel.classList.remove('show');

                } catch (error) {
                    console.error('Error adding product:', error);
                    showNotification('Ù‡Û•ÚµÛ• Ù„Û• Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ú©Ø§ÚµØ§: ' + error.message, 'error');
                } finally {
                    submitButton.disabled = false;
                    submitButton.textContent = originalText;
                }
            });
        });

        // Make functions globally available
        window.slideImage = slideImage;
        window.handleDotClick = handleDotClick;
        window.handleImageError = handleImageError;
        window.showUSDPrice = showUSDPrice;
        window.showNotification = showNotification;
        window.filterProducts = filterProducts;
    </script>
</body>
</html>
